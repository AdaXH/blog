const SinaCloud=require("scs-sdk");function callUploadBucket(c){return new Promise((o,s)=>{const e=new SinaCloud.S3;e.putObject({ACL:"public-read",Bucket:"ada.bucket",Key:"test.jpg",Body:c},function(e,c){e?s(e):o("uploaded")})})}SinaCloud.config=new SinaCloud.Config({accessKeyId:"1b24azces6uiVWvMDbnN",secretAccessKey:"59769489567c92ab6d05026ec8322c4c503c17f2",sslEnabled:!1});const routerExports={uploadBucket:{method:"post",url:"/uploadBucket",route:async c=>{const{binary:e}=JSON.parse(c.request.body);try{await callUploadBucket(Buffer.from(e.replace(/^data:image\/\w+;base64,/,""),"base64")),c.body={success:!0}}catch(e){c.body={success:!1,errorMsg:e}}}}};module.exports=routerExports;