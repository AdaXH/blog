{"version":3,"sources":["handleOnScroll/scroll.js","componets/footer/footer.jsx","componets/header/header.jsx","request/request.js","componets/dynamic/dynamic.jsx","componets/article/article.jsx","componets/detail/detail.jsx","componets/message/message.jsx","componets/about/about.jsx","componets/index/index.jsx","componets/search/search.jsx","componets/admin/dynamicList.jsx","componets/admin/indexPic.jsx","componets/admin/admin.jsx","componets/route/route.jsx","componets/aside/Aside.jsx","componets/aside/loginrReg.jsx","componets/container/container.jsx","componets/dialog/dialog.jsx","componets/loading/loading.jsx","App.js","store/reducersModule.js","store/store.js","serviceWorker.js","index.js"],"names":["rAF","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","cancelRAF","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","clearTimeout","animateToTop","el","cb","scrollTop","interval","setInterval","clearInterval","Scroll","Object","classCallCheck","this","sy","scrollY","onScroll","onScrollEnd","scrollList","scrollEndList","scrollTimer","nowWsy","lastY","direction","rafMark","rafingMark","gap","exportstatus","bindEvent","createClass","key","value","push","winInfo","Math","abs","dir","i","len","length","error","console","warn","startRaf","_this","rafing","addEventListener","scrollEnd","toTop","props","urlMapEl","url","urlArr","location","href","split","target","_i","item","document","getElementsByClassName","changeToTop","Footer","connect","state","type","logo","src","toTopVisible","visible","screen","dispatch","set","payload","toggleFooter","_react_16_7_0_react_default","a","createElement","className","text","map","onClick","NavLink","style","display","color","to","icon","Header","user","position","top","API","method","arguments","undefined","data","options","headers","content-type","accept","authorization","Cookies","get","body","JSON","stringify","fetch","then","res","status","json","result","success","errorMsg","catch","err","alert","modal_default","UI","possibleConstructorReturn","getPrototypeOf","call","height","documentElement","clientHeight","refreshing","scrollHeight","index","pageSize","isOver","arg1","arg2","isFullScreen","setState","innerHeight","_this2","changeTop","_this$state","sessionStorage","getItem","parse","toast_default","loading","sendFetch","hide","scroll","handleScroll","_this2$props","temp","copyData","allId","_id","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","includes","return","toConsumableArray","_this3","setItem","concatData","_index","_this4","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","open","_this5","openDialog","content","trim","d","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","currentDay","msg","context","date","name","Base64","encode","reverse","slice","offline","info","placeholder","msgId","_this6","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","filter","imgContainer","querySelector","children","_this7","ref","img","card_default","viewImg","backgroundImage","title","Body","left","upvote","toggleRepeat","textAlign","marginTop","paddingRight","fail","replace","admin","onPress","log","deleteMsg","React","Component","Dynamic","dynamics","datas","setUser","setData","params","objectSpread","bind","viewer","history","articleDetail","right","fontSize","marginLeft","ReactHtmlParser","summary","Article","articles","match","id","maxHeight","PureComponent","ArticleDetail","footerStatus","footer","_UI","_React$Component","avatar","names","inherits","Set","getAvatars","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_parent_id","operator","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","repeat","lineHeight","toRepeat","handleRepeat","marginRight","paddingLeft","thumb","setAvatar","whiteSpace","extra","toggleList","renderMsg","_this8","count","debug","m","seconds","getSeconds","concat","escapeData","refs","_sendMsg","transform","h","ms","cancelCallback","_this9","els","querySelectorAll","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","toggleRotate","Message","messages","avatars","html","show","timeout","start","_loop","scrollIntoView","_ref","test","toggleStatus","About","customer","loadBg","Glitch","width","init","number","handleFly","e","zIndex","overflow","search_bar_default","onSubmit","handleChange","onBlur","resetView","maxLength","bottom","Index","bg","Promise","resolve","f","Image","onload","complete","pathname","x","random","op","parseInt","y","duration","opacity","Item","popover_default","Search","_React$PureComponent","wd","defineProperty","mask","overlayClassName","overlayStyle","overlay","data-seed","align","adjustY","adjustX","offset","onSelect","_currentDynamic$","queryDynamic","dynamic","updateVO","newDynamic","list_default","swipe_action_default","backgroundColor","autoClose","handleSwiper","arrow","DynamicList","updateData","PicManage","alt","onChange","handleFile","nativeEvent","files","file","fileReader","FileReader","readAsBinaryString","binary","selectedSegmentIndex","segmented_control_default","onTypeChange","selectedIndex","values","Switch","Route","path","component","Redirect","from","Admin","dialog","RouteConfig","exact","aside","toggleUI","toggleAside","logoOut","cookie","arr","cookies","con","fileName","userInfo","s","u","p","join","navigator","userAgent","innerWidth","encodeURIComponent","handleUpload","loginOrRegister","shareToSina","showcount","pics","Aside","asideFn","FormItem","Form","WrappedNormalLoginForm","create","getFieldDecorator","form","change","row","justify","col","span","es_form","preventDefault","validateFields","pwd","pwd2","token","handleSubmit","rules","required","message","input","autoComplete","prefix","valuePropName","initialValue","es_checkbox","es_button","htmlType","LoginReg","loginUI","decode","ev","imgDetail","galleryContainer","tagName","toUpperCase","de","exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","element","requestMethod","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullScreen","ActiveXObject","wscript","SendKeys","toggleScreen","paddingTop","fullScreen","handleFullScreen","aside_Aside","route_RouteConfig","Container","dataUrl","_this$props$dialog","dialogType","_this$state2","removeItem","readAsDataURL","_this3$state","input_item_default","onKeyUp","defaultValue","textarea_item_default","assign","getFieldProps","rows","button_default","submit","Dialog","_setData","createForm","Loading","imgs","imgResult","_arr","onerror","preLoadFile","setDate","loading_Loading","BrowserRouter","App","reducers","combineReducers","action","remove","paylaod","Store","createStore","Boolean","hostname","ReactDOM","render","es","store","App_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cdb75e4f.chunk.js","sourcesContent":["const rAF = window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function (callback) { window.setTimeout(callback, 1000 / 60); };\n\nconst cancelRAF = window.cancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.webkitCancelRequestAnimationFrame ||\n    window.mozCancelRequestAnimationFrame ||\n    window.oCancelRequestAnimationFrame ||\n    window.msCancelRequestAnimationFrame ||\n    clearTimeout;\n\n\nexport function animateToTop(el, cb){\n    let { scrollTop } = el\n    let interval = null\n    interval = setInterval(() => {\n        el.scrollTop = scrollTop\n        scrollTop -= 8\n        if (scrollTop <= 0) {\n            clearInterval(interval)\n            cb && cb()\n        }\n    }, 0)\n}\n\nexport class Scroll {\n    constructor(el) {\n        let sy = el.scrollY;\n        this.el = el        \n        this.onScroll = this.onScroll;\n        this.onScrollEnd = this.onScrollEnd;\n        this.scrollList = [];\n        this.scrollEndList = [];\n        this.scrollTimer = null;\n        this.nowWsy = sy;\n        this.lastY = sy;\n        this.direction = 0;\n        this.rafMark = null;\n        this.rafingMark = false;\n        this.gap = 0;\n        this.exportstatus = {}\n        this.bindEvent();\n    }\n    onScroll(cb) {\n        if (typeof cb !== 'function') {\n            return;\n        }\n        this.scrollList.push(cb);\n    }\n    onScrollEnd(cb) {\n        if (typeof cb !== 'function') {\n            return;\n        }\n        this.scrollEndList.push(cb);\n    }\n    scrollEnd() {\n        let winInfo = {\n            sy: this.nowWsy,\n            gap: Math.abs(this.gap),\n            dir: this.direction,\n        }\n        for (let i = 0, len = this.scrollEndList.length; i < len; i++) {\n            try {\n                this.scrollEndList[i](winInfo);\n            } catch (error) {\n                console.warn(error)\n            }\n        }\n    }\n    rafing() {\n        this.nowWsy = this.el.scrollY || this.el.scrollTop;\n        this.gap = this.nowWsy - this.lastY;\n        // 1为向上滑动 -1 为向下滑动 --- 页面相对视窗\n        !!this.gap && (this.direction = (((this.gap >= 0) | 0) - 0.5) * 2);\n        this.lastY = this.nowWsy;\n        let winInfo = {\n            sy: this.nowWsy, //当前el的scrollY\n            gap: Math.abs(this.gap), //上次到这次滑动的距离\n            dir: this.direction, //滑动方向\n        }\n        this.exportstatus = winInfo\n        for (let i = 0, len = this.scrollList.length; i < len; i++) {\n            try {\n                this.scrollList[i](winInfo);\n            } catch (error) {\n                console.warn(error)\n            }\n        }\n\n        this.startRaf();\n    }\n    startRaf() {\n        let _this = this;\n        this.rafMark = rAF(function () {\n            _this.rafing();\n        })\n    }\n    bindEvent() {\n        let _this = this;\n        _this.el.addEventListener('scroll', function () {        \n            clearTimeout(_this.scrollTimer);\n\n            if (!_this.rafingMark) {\n                _this.startRaf();\n                _this.rafingMark = true;\n            }\n\n            _this.scrollTimer = setTimeout(function () {\n                cancelRAF(_this.rafMark);\n                _this.scrollEnd();\n                _this.rafingMark = false;\n            }, 500);\n        }, 0)\n    }\n}\n\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Icon } from 'antd'\nimport './footer.css'\nimport { connect } from 'react-redux'\nimport { animateToTop } from './../../handleOnScroll/scroll'\nconst UI = props => {\n    const nav = [\n        {\n            type: 'fund',\n            text: '动态',\n            url: '/dynamic'\n        },\n        {\n            type: 'file-text',\n            text: '文章',\n            url: '/article'\n        },\n        {\n            type: 'home',\n            text: '首页',\n            url: '/index'\n        },\n        {\n            type: 'message',\n            text: '留言',\n            url: '/message'\n        },\n        {\n            type: 'tag',\n            text: '关于',\n            url: '/about'\n        }\n    ]\n    return (\n        <footer className={props.screen ? 'hideFooter' : ''}>\n            <ul>\n                {\n                    nav.map(item => {\n                        return (\n                            <li key={item.url} onClick={() => props.set(item.type, item.text)}>\n                                <NavLink style={{ display: 'block', color: \"white\"}} to={item.url}>\n                                    <Icon type={item.type} />\n                                </NavLink>\n                            </li>\n                        )\n                    })\n                }\n            </ul>\n            {\n                props.toTopVisible &&\n                <div className='toTop' onClick={() => toTop(props)}>\n                    <Icon type=\"to-top\" />\n                </div>\n            }\n        </footer>\n    )\n}\nconst toTop = props => {\n    const urlMapEl = [\n        { url: '/dynamic', el: 'dynamicContainer' },\n        { url: '/article', el: 'articleList' },\n        { url: '/message', el: 'messageContainer' },\n    ]\n    const urlArr = window.location.href.split('/')\n    const target = '/' + urlArr[urlArr.length - 1]\n\n    for (let item of urlMapEl) {\n        if (item.url === target) {\n            animateToTop(document.getElementsByClassName(item.el)[0], () => setTimeout(() => {\n                props.changeToTop('HIDE')                \n            }, 1000))\n            return\n        }\n    }\n}\n\nexport const Footer = connect(state => {\n    return {\n        type: state.logo.src,\n        toTopVisible: state.toTop.visible,\n        screen: state.screen\n    }\n}, dispatch => {\n    return {\n        set(src, item) {\n            dispatch({ type: 'LOGO', payload: { src, item } })\n        },\n        changeToTop(type) {\n            dispatch({ type })\n        },\n        toggleFooter(type) {\n            dispatch({ type })\n        }\n    }\n})(UI)","import React from 'react'\nimport './header.css'\n// import { NoticeBar } from 'antd-mobile'\nimport { Icon } from 'antd'\nimport { connect } from 'react-redux'\nconst UI = props => {\n    return (\n        <header className={props.screen ? 'hideHeader' : ''}>\n            <div className=\"logo\">\n                <span className='logoSpan'> <Icon style={{ position: 'relative', top: '-1px' }} type={props.logo.src} /> Ada - {props.logo.item}</span>\n            </div>\n            <div className=\"welcome\">\n                <p>HOME - PAGE</p> \n            </div>\n        </header>\n    )\n}\n\nexport const Header = connect(state => {\n    return {\n        logo: state.logo,\n        user: state.user,\n        screen: state.screen\n    }\n}, () => { return {} })(UI)","import Cookies  from 'js-cookie'\n\nexport const API = (url, method = 'GET', data) => {\n    const options = {\n        method,\n        headers: {\n            'content-type': 'application/json',\n            accept: 'application/json',\n            authorization: Cookies.get('token') || 'no-permission'\n        }\n    }\n    method === 'POST' && (options.body = JSON.stringify(data))\n    return fetch(url, options).then(res => {\n        if (res.status >= 200 && res.status < 300)\n            return res.json()\n        return res.status === 401 ? res.json() : res.status\n    }).then(result => {\n        return result.success ? result : result.errorMsg || result\n    }).catch(err => { \n        return err\n    })\n}","import React from 'react'\nimport { Card, Toast, Modal } from 'antd-mobile'\nimport { Icon } from 'antd'\nimport './dynamic.css'\nimport { connect } from 'react-redux'\nimport { API } from '../../request/request'\nimport { Base64 } from 'js-base64'\n// import ReactDOM from 'react-dom'\nimport { Scroll } from './../../handleOnScroll/scroll'\n\nconst alert = Modal.alert\n\nclass UI extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            data: [],\n            height: document.documentElement.clientHeight,\n            refreshing: false,\n            scrollHeight: 0,\n            index: 0,//slice（index, pagesize）\n            pageSize: 6,//一次请求多少条？\n            isOver: false,//没有数据了？\n        }\n    }\n    shouldComponentUpdate(arg1, arg2) {\n        if (!arg2.data || arg2.data.length === 0) return false\n        return true\n    }\n    componentWillReceiveProps(props){\n        const isFullScreen = props.screen\n        this.setState({\n            scrollHeight: isFullScreen ? window.innerHeight : window.innerHeight - 110\n        })\n    }\n    componentDidMount() {\n        this.props.changeTop('HIDE')\n        this.setState({\n            scrollHeight: window.innerHeight - 110\n        })\n        const { index, pageSize } = this.state\n        if (window.sessionStorage && window.sessionStorage.getItem('dynamics')) {\n            const data = JSON.parse(window.sessionStorage.getItem('dynamics'))\n            this.setState({\n                data,\n                index: 6,\n                pageSize: 12\n            })\n        } else {\n            Toast.loading('加载中...', 30)\n            this.sendFetch(index, pageSize, () => Toast.hide())\n        }\n        const scroll = new Scroll(this.body)\n        scroll.onScrollEnd(() => {\n            this.handleScroll()\n        })\n        scroll.onScroll(() => {\n            const { toTopVisible, changeTop } = this.props\n            const { body } = this\n            if (body.scrollTop <= 0) {\n                toTopVisible && changeTop('HIDE')\n            }\n            else {\n                changeTop('SHOW')\n            }\n        })\n    }\n    concatData(data, temp) {\n        const copyData = JSON.parse(JSON.stringify(data))\n        const allId = copyData.map(item => item._id)\n        for (let item of temp) {\n            !(allId.includes(item._id)) && copyData.push(item)\n        }\n        return [...copyData]\n    }\n    sendFetch(index, pageSize, cb) {\n        if (this.state.isOver) return\n        API('/getDynamicByPageSize', 'POST', { index, pageSize }).then(result => {\n            if (result.success) {\n                index === 0 && window.sessionStorage && window.sessionStorage.setItem('dynamics', JSON.stringify(result.data))\n                const data = this.concatData(this.state.data, result.data)\n                const _index = this.state.pageSize\n                const pageSize = _index + 6\n                const isOver = result.isOver\n                this.setState(state => {\n                    return {\n                        data,\n                        index: _index,\n                        pageSize,\n                        isOver\n                    }\n                }, cb && cb())\n            }\n        })\n    }\n    refresh() {\n        this.setState({ refreshing: true, index: 0, data: [], pageSize: 6, isOver: false }, () => this.sendFetch(0, 6, () => this.setState({ refreshing: false })))\n    }\n    toggleRepeat(_id) {\n        const { data } = this.state\n        for (let item of data) {\n            if (item._id === _id) {\n                item.open = !item.open\n                break\n            }\n        }\n        this.setState({ data: [...data] })\n        // this.props.setData({ payload: { type: 'dynamics', data } })\n    }\n    openDialog(_id) {\n        const cb = value => {\n            if (!value || value.content.trim() === '') {\n                Toast.info('输入不规范', 1)\n                return\n            }\n            Toast.loading('加载中...', 10)\n            const d = new Date()\n            const year = d.getFullYear()\n            const month = d.getMonth() + 1\n            const day = d.getDate()\n            const hour = d.getHours()\n            const minute = d.getMinutes()\n            const currentDay = year + \"-\" + (month < 10 ? '0' + month : month) + '-' + (day < 10 ? '0' + day : day) + '--' + (hour < 10 ? '0' + hour : hour) + ':' + (minute < 10 ? '0' + minute : minute)\n            API('/leave-dynamic-mg', 'POST', { msg: { context: value.content, date: currentDay }, _id, name: Base64.encode(this.props.user.name) }).then(res => {\n                if (res.success) {\n                    Toast.hide()\n                    value.hide({ visible: false })\n                    this.setState({ data: res.data.reverse().slice(0, 6) }, () => window.sessionStorage && window.sessionStorage.setItem('dynamics', JSON.stringify(this.state.data.slice(0, 6))))\n                }\n                else Toast.offline(res)\n            })\n        }\n        this.props.openDialog({ cb, placeholder: '你想评论什么呢？' })\n    }\n    deleteMsg(_id, msgId) {\n        Toast.loading('删除中', 2)\n        API('/deleteDynamicMsg', 'POST', { _id, msgId }).then(result => {\n            Toast.hide()\n            if (result.success) {\n                const { data } = this.state\n                for (let item of data) {\n                    if (item._id === msgId) {\n                        const msg = item.msg.filter(msg => msg._id !== _id)\n                        item.msg = msg\n                        break\n                    }\n                }\n                this.setState({ data }, () => window.sessionStorage && window.sessionStorage.setItem('dynamics', JSON.stringify(this.state.data.slice(0, 6))))\n                // this.props.setData({ payload: { type: 'dynamics', data } })\n                Toast.success('已删除', 1)\n            } else Toast.offline(result)\n        })\n    }\n    handleScroll() {\n        if (this.state.isOver) return\n        const { body } = this\n        if (body.scrollTop + body.clientHeight >= body.scrollHeight) {\n            this.sendFetch(this.state.index, this.state.pageSize)\n        }\n    }\n    viewImg(src){\n        // !!src && this.props.viewImg({ visible: true, src })\n        const imgContainer = document.querySelector('.imgDetail')\n        imgContainer.style.display = 'block'\n        imgContainer && imgContainer.children[1] && (imgContainer.children[1].src = src)\n    }\n    render() {\n        // const imgs = document.getElementsByClassName('dynamicImgContainer')\n        // if (imgs.length !== 0){\n        //     for (let item of imgs){\n        //         item.addEventListener('click', )\n        //     }\n        // }\n        const { scrollHeight } = this.state\n        // <div className=\"\">\n        return (\n            //onScroll={() => this.handleScroll()}\n            <div className=\"indexContainer dynamicContainer contentSlideFromLeft\" style={{ height: scrollHeight + 'px' }} ref={body => this.body = body}>\n                {\n                    this.state.data && this.state.data.length !== 0 && this.state.data.map(item => {\n                        const src = item.img || '/resouce/gallery/7.jpg'\n                        const len = (item.msg && item.msg.length) || 0\n                        return (\n                            <div key={item._id}>\n                                <Card className='itemFromLeft cardItem' >\n                                    <div className=\"dynamicImgContainer\" onClick={() => this.viewImg(src)} style={{backgroundImage: 'url('+ src +')'}}>\n                                    </div>\n                                    <Card.Header\n                                        title={item.title}\n                                    />\n                                    <Card.Body>\n                                        <div className='fromLeft dynamicContent'>\n                                            {item.content}\n                                            <div className='dynamicDate fromLeft'>\n                                                <span className=\"line\"></span>\n                                                <span>{item.date}</span>\n                                            </div>\n                                        </div>\n                                    </Card.Body>\n                                    <Card.Footer content={<div className='dynamicOperationContainer'>\n                                        \n                                        <div className=\"rightTemp\">\n                                            <div className='upvote'><Icon style={{ position: 'relative', top: '-1px', left: '-5px' }} type=\"like\" />{item.upvote}</div>\n\n                                            <div className=\"repeat\">\n                                                <span onClick={() => this.toggleRepeat(item._id)} >\n                                                    <Icon style={{ position: 'relative', top: '-1px', left: '-5px' }} type={item.open ? \"close\" : 'message'} />\n                                                    {len}\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    } />\n                                    {\n                                        item.open ?\n                                            <div className='repeatContainer' key={item._id}>\n                                                <div style={{ 'textAlign': \"right\", color: '#888', marginTop: '0.12rem', paddingRight: '0.2rem' }}>\n                                                    <Icon style={{ position: 'relative', top: '-0.01rem', left: '-0.05rem', color: '#4089bc' }} type=\"plus\" onClick={() => this.props.user.name ? this.openDialog(item._id) : Toast.fail('你还没有登录哦', 1)} />\n                                                </div>\n                                                <div className=\"repeatList\">\n                                                    <ul>\n                                                        {\n                                                            item.msg && item.msg.reverse().map(msg => {\n                                                                return (\n                                                                    <li key={msg._id}>\n                                                                        <div className=\"name\">\n                                                                            {msg.name || '神秘人'} : <span>{msg.date.replace(/--/, ': ')}</span>\n                                                                            {(this.props.user.admin || this.props.user.name === msg.name) && <Icon className='repeatInner deleteI' onClick={() => alert('提示', '确定删除吗？', [\n                                                                                { text: '取消', onPress: () => console.log('cancel') },\n                                                                                { text: '确定', onPress: () => this.deleteMsg(msg._id, item._id) }\n                                                                            ])} type='delete' />}\n                                                                        </div>\n                                                                        <div className=\"context\">{msg.context}</div>\n                                                                    </li>\n                                                                )\n                                                            })\n                                                        }\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                            :\n                                            ''\n                                    }\n\n                                </Card>\n\n                            </div>\n                        )\n                    })\n                }\n                {\n                    !this.state.isOver &&\n                    <div className='loadingCon'>\n                        <Icon type='loading' />\n                    </div>\n                }\n            </div>\n\n            // </div>\n        )\n    }\n}\nconst Dynamic = connect(state => {\n    return {\n        user: state.user,\n        dynamics: state.datas.dynamics,\n        toTopVisible: state.toTop.visible,\n        screen: state.screen,\n    }\n}, (dispatch) => {\n    return {\n        viewImg(payload){\n            dispatch({ type: 'VIEW', payload })\n        },\n        setUser(user) {\n            dispatch({\n                type: 'SET_USER_VO',\n                payload: user\n            })\n        },\n        changeTop(type) {\n            dispatch({ type })\n        },\n        setData(params) {\n            dispatch({ type: 'SET_DATA', ...params })\n        },\n        openDialog(payload) {\n            dispatch({ type: 'LEAVE_MESSAGE', payload })\n        }\n    }\n})(UI)\nexport default Dynamic","import React from 'react'\nimport { Toast } from 'antd-mobile'\nimport { Icon } from 'antd'\nimport './article.css'\nimport ReactHtmlParser from 'react-html-parser';\nimport { connect } from 'react-redux'\nimport { API } from '../../request/request'\n// import ReactDOM from 'react-dom'\nimport { Scroll } from '../../handleOnScroll/scroll';\n\n// const Item = Popover.Item\nclass UI extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            data: [],\n            visible: false,\n            height: document.documentElement.clientHeight,\n            refreshing: false,\n            scrollHeight: 0,\n            index: 0,//slice（index, pagesize）\n            pageSize: 6,//一次请求多少条？\n            isOver: false,//没有数据了？\n        }\n    }\n    componentWillReceiveProps(props) {\n        const isFullScreen = props.screen\n        this.setState({\n            scrollHeight: isFullScreen ? window.innerHeight : window.innerHeight - 110\n        })\n    }\n    componentDidMount() {\n        this.props.changeTop('HIDE')\n        this.setState({\n            scrollHeight: window.innerHeight - 110\n        })\n        const { index, pageSize } = this.state\n        if (window.sessionStorage && window.sessionStorage.getItem('articles')) {\n            const data = JSON.parse(window.sessionStorage.getItem('articles'))\n            this.setState({\n                data,\n                index: 6,\n                pageSize: 12\n            })\n        } else {\n            Toast.loading('加载中...', 30)\n            this.sendFetch(index, pageSize, () => Toast.hide())\n        }\n        const scroll = new Scroll(this.body)\n        scroll.onScrollEnd(this.handleScroll.bind(this))\n        scroll.onScroll(() => {\n            const { toTopVisible, changeTop } = this.props\n            const { body } = this\n            if (body.scrollTop <= 0) {\n                toTopVisible && changeTop('HIDE')\n            }\n            else {\n                changeTop('SHOW')\n            }\n        })\n    }\n    shouldComponentUpdate(arg1, arg2) {\n        if (arg2.data.length === 0) return false\n        return true\n    }\n    handleScroll() {\n        if (this.state.isOver) return\n        const { body } = this\n        if (body.scrollTop + body.clientHeight >= body.scrollHeight) {\n            this.sendFetch(this.state.index, this.state.pageSize)\n        }\n    }\n    concatData(data, temp) {\n        const copyData = JSON.parse(JSON.stringify(data))\n        const allId = copyData.map(item => item._id)\n        for (let item of temp) {\n            !(allId.includes(item._id)) && copyData.push(item)\n        }\n        return [...copyData]\n    }\n    sendFetch(index, pageSize, cb) {\n        if (this.state.isOver) return\n        API('/getArticlePageSize', 'POST', { index, pageSize }).then(result => {\n            if (result.success) {\n                index === 0 && window.sessionStorage && window.sessionStorage.setItem('articles', JSON.stringify(result.data))\n                const data = this.concatData(this.state.data, result.data)\n                const _index = this.state.pageSize\n                const pageSize = _index + 6\n                const isOver = result.isOver\n                this.setState(state => {\n                    return {\n                        data,\n                        index: _index,\n                        pageSize,\n                        isOver\n                    }\n                }, cb && cb())\n            }\n        })\n    }\n    refresh() {\n        this.setState({ refreshing: true })\n        API('/getArticles').then(result => {\n            if (result.success) {\n                this.setState({ data: result.data }, () => this.setState({ refreshing: false }))\n                this.props.setData({ payload: { type: 'articles', data: result.data } })\n            }\n            else Toast.offline('刷新失败', 1)\n        })\n    }\n    articleDetail(_id, viewer) {\n        API('/updateArticleViewerById', 'POST', { _id, viewer }).then(result => {\n            if (result.success) {\n                const { data } = this.state\n                for (let item of data) {\n                    if (item._id === _id) {\n                        item.viewer = (viewer + 1)\n                        break\n                    }\n                }\n                this.props.setData({ payload: { type: 'articles', data } })\n            }\n        })\n        // }\n        this.props.history.push('/article/' + _id)\n    }\n    onSelect(key, viewer) {\n        const _id = key.props.value\n        if (key.key === '4') {\n            this.articleDetail(_id, viewer)\n            this.props.history.push('/article/' + _id)\n        }\n    }\n    render() {\n        const { scrollHeight } = this.state\n        //< div className = 'articleContainer contentSlideFromLeft' >\n        return (\n            <ul className=\"articleList itemFromLeft contentSlideFromLeft\" ref={body => this.body = body} style={{ height: scrollHeight + 'px' }} >\n                {\n                    this.state.data.length !== 0 && this.state.data.map(item => {\n                        return (\n                            <li key={item._id} className=\"articleItem\" onClick={() => this.articleDetail(item._id, item.viewer)}>\n                                <div className=\"articleStatus\">\n                                    <div>\n                                        <Icon style={{ position: 'relative', right: '2px'   }} type=\"clock-circle\" /><span style={{ fontSize: '12px' }}>{item.date}</span>\n                                    </div>\n\n                                    <div>\n                                        <Icon style={{ position: 'relative'  }} type='fire' /><span style={{ marginLeft: '4px' }}>{item.viewer}</span>\n                                    </div>\n                                    <div>\n                                        <Icon style={{ position: 'relative'  }} type='tag' /><span style={{ marginLeft: '4px' }}>{item.type}</span>\n                                    </div>\n                                    {/* <div className=\"operation\"> */}\n                                        {/* <Popover mask\n                                            overlayClassName=\"fortest\"\n                                            overlayStyle={{ color: 'currentColor' }}\n                                            visible={this.state.visible}\n                                            overlay={[\n                                                (<Item key=\"4\" value={item._id} data-seed=\"logId\">查看详情</Item>),\n                                                (<Item key=\"5\" value={item._id} style={{ whiteSpace: 'nowrap' }}>点个赞</Item>),\n                                                (<Item key=\"6\" value={item._id} ><span style={{ marginRight: 5 }}>分享</span></Item>)\n                                            ]}\n                                            align={{\n                                                overflow: { adjustY: 0, adjustX: 0 },\n                                                offset: [-10, 0],\n                                            }}\n                                            onSelect={(key) => this.onSelect(key, item.viewer)}\n                                        >\n                                            <div>more</div>\n                                        </Popover> */}\n                                    {/* </div> */}\n                                </div>\n\n                                <div className=\"articleTitle\">\n                                    {ReactHtmlParser(item.summary.slice(0, 200).replace(/contenteditable=\"true\"/g, '') + ' ......')}\n                                </div>\n                            </li>\n                        )\n                    })\n                }                {\n                    !this.state.isOver &&\n                    <div className='loadingCon'>\n                        <Icon type='loading' />\n                    </div>\n                }\n            </ul>)\n    }\n}\nexport const Article = connect(state => {\n    return {\n        articles: state.datas.articles,\n        toTopVisible: state.toTop.visible,\n        screen: state.screen\n    }\n}, dispatch => {\n    return {\n        setData(params) {\n            dispatch({ type: 'SET_DATA', ...params })\n        },\n        changeTop(type) {\n            dispatch({ type })\n        },\n    }\n})(UI)","import React from 'react'\nimport { Toast } from 'antd-mobile'\nimport ReactHtmlParser from 'react-html-parser'\nimport { Icon } from 'antd'\nimport './detail.css'\nimport { API } from '../../request/request'\nimport { connect } from 'react-redux'\n// import { Scroll } from './../../handleOnScroll/scroll'\nclass UI extends React.PureComponent {\n    constructor() {\n        super()\n        this.state = {\n            data: {},\n            scrollHeight: 0,\n        }\n    }\n    componentDidMount() {\n        Toast.loading('加载中...', 30)\n        const _id = this.props.match.params.id\n        this.setState({\n            scrollHeight: window.innerHeight - 110\n        })\n        API('/queryArticleById', 'POST', { _id }).then(result => result.success ? this.setState({ data: result.data }, Toast.hide()) : Toast.offline('无法读取文章内容', 2, () => this.props.history.push('/article')))\n        this.props.changeTop('HIDE')\n    }\n    componentWillReceiveProps() {\n        const isFullScreen = this.props.screen\n        this.setState({\n            scrollHeight: isFullScreen ? window.innerHeight - 110 : window.innerHeight \n        })\n    }\n    render() {\n        const { scrollHeight } = this.state\n        return (\n            <div className=\"detailContainer contentSlideFromLeft\" ref={body => this.body = body} style={{ maxHeight: scrollHeight + 'px' }}>\n                <div className=\"articleStatus1 itemFromLeft\">\n                    <div className=\"articleStatus1\">\n                        <div>\n                            <Icon style={{ position: 'relative', top: '1px' }} type=\"clock-circle\" /><span style={{ marginLeft: '4px' }}>{this.state.data.year}-{this.state.data.date}</span>\n                        </div>\n                        <div>\n                            <Icon style={{ position: 'relative', top: '2px' }} type='tag' /><span style={{ marginLeft: '4px' }}>{this.state.data.type}</span>\n                        </div>\n                        <div>\n                            <Icon style={{ position: 'relative', top: '1px' }} type='like' /><span style={{ marginLeft: '4px' }}>{this.state.data.viewer}</span>\n                        </div>\n                    </div>\n                </div>\n                {ReactHtmlParser(this.state.data.summary && this.state.data.summary.replace(/contenteditable=\"true\"/g, ''))}\n            </div>\n        )\n    }\n}\n\nexport const ArticleDetail = connect(state => {\n    return {\n        toTopVisible: state.toTop.visible,\n        footerStatus: state.footer,\n        screen: state.screen,\n    }\n}, dispatch => {\n    return {\n        toggleFooter() {\n            dispatch({ type: 'TOGGLE' })\n        },\n        changeTop(type) {\n            dispatch({ type })\n        },\n    }\n})(UI)","import React from 'react'\nimport './message.css'\nimport { Card, Toast, Modal } from 'antd-mobile'\nimport { connect } from 'react-redux'\nimport { Icon } from 'antd'\nimport { API } from '../../request/request'\nimport { Scroll } from '../../handleOnScroll/scroll';\n\nconst alert = Modal.alert;\nexport class _UI extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            data: [],\n            avatar: [],\n            names: [],\n            height: document.documentElement.clientHeight,\n            refreshing: false,\n            scrollHeight: 0,\n            index: 0,//slice（index, pagesize）\n            pageSize: 6,//一次请求多少条？\n            isOver: false,//没有数据了？         \n        }\n    }\n    shouldComponentUpdate(arg1, arg2) {\n        if (arg2.data.length === 0) return false\n        return true\n    }\n    componentWillReceiveProps(props) {\n        const isFullScreen = props.screen\n        this.setState({\n            scrollHeight: isFullScreen ? window.innerHeight : window.innerHeight - 110\n        })\n    }\n    componentDidMount() {\n        this.props.changeTop('HIDE')                \n        this.setState({\n            scrollHeight: window.innerHeight - 110\n        })\n        const { index, pageSize } = this.state\n        if (window.sessionStorage && window.sessionStorage.getItem('messages')) {\n            const data = JSON.parse(window.sessionStorage.getItem('messages'))\n            const names = [...new Set(data.map(item => item.name))]\n            this.getAvatars(names)\n            this.setState({\n                data,\n                index: 6,\n                pageSize: 12\n            })\n        } else {\n            Toast.loading('加载中...', 30)\n            this.sendFetch(index, pageSize, () => {\n                Toast.hide()\n                this.getAvatars.bind(this)\n            })\n        }\n        const scroll = new Scroll(this.body)\n        scroll.onScrollEnd(this.handleScroll.bind(this))\n        scroll.onScroll(() => {\n            const { toTopVisible, changeTop } = this.props\n            const { body } = this\n            if (body.scrollTop <= 0) {\n                toTopVisible && changeTop('HIDE')\n            }\n            else {\n                changeTop('SHOW')\n            }\n        })\n    }\n    concatData(data, temp) {\n        const copyData = JSON.parse(JSON.stringify(data))\n        const allId = copyData.map(item => item._id)\n        for (let item of temp) {\n            !(allId.includes(item._id)) && copyData.push(item)\n        }\n        return [...copyData]\n    }\n    sendFetch(index, pageSize, cb) {\n        if (this.state.isOver) return\n        API('/getMessageByPageSize', 'POST', { index, pageSize }).then(result => {\n            if (result.success) {\n                index === 0 && window.sessionStorage && window.sessionStorage.setItem('messages', JSON.stringify(result.data))                                \n                const data = this.concatData(this.state.data, result.data)\n                const names = [...new Set(data.map(item => item.name))]\n                this.getAvatars(names)\n                const _index = this.state.pageSize\n                const pageSize = _index + 6\n                const isOver = result.isOver\n                this.setState(state => {\n                    return {\n                        data,\n                        index: _index,\n                        pageSize,\n                        isOver,\n                        names\n                    }\n                }, cb && cb())\n            }\n        })\n    }\n    handleScroll() {\n        if (this.state.isOver) return\n        const { body } = this\n        if (body.scrollTop + body.clientHeight >= body.scrollHeight) {\n            this.sendFetch(this.state.index, this.state.pageSize)\n        }\n    }\n    refresh() {\n        this.setState({ refreshing: true })\n        API('/getAllMessages').then(result => {\n            if (result.success) {\n                this.setState({ data: result.data })\n                this.props.setData({ payload: { type: 'messages', data: result.data } })\n                const names = []\n                for (let item of result.data)\n                    names.push(item.name)\n                this.setState({\n                    names: [...new Set(names)],\n                }, () => {\n                    this.getAvatars(() => this.setState({ refreshing: false }))\n                })\n            }\n            else Toast.offline('刷新失败', 1)\n        })\n    }\n    getAvatars(names) {\n        API('/all_user_avatar', 'POST', { name: names }).then(result => {\n            if (result.success) {\n                this.setState({ avatar: result.data })\n            }\n        })\n    }\n    setAvatar(name) {\n        for (let item of this.state.avatar)\n            if (name === item.name)\n                return item.avatar\n        return ''\n    }\n    toggleList(_id) {\n        const { data } = this.state\n        for (let item of data)\n            if (item._id === _id)\n                item.open = !item.open\n        this.setState({\n            data: [...data]\n        })\n    }\n    handleRepeat(item, _id, placeholder) {\n        if (this.props.user.name === item.name) {\n            Toast.offline('自己回复自己不太好吧？', 2)\n            return\n        }\n        this.openDialog(_id, item.name, placeholder)\n    }\n    deleteMsg(_id, type, _parent_id) {\n        console.log(_id)\n        Toast.loading('正在删除', 10)\n        if (type === 'outer') {\n            API('/deleteMsgById', 'POST', { _id, operator: this.props.user.name }).then(result => {\n                Toast.hide()\n                if (result.success) {\n                    const data = this.state.data.filter(item => item._id !== _id)                   \n                    this.setState({ data }, () => window.sessionStorage.setItem('messages', JSON.stringify(this.state.data.slice(0, 6))))\n                    Toast.success('已删除', 2)\n                } else Toast(result)\n            })\n        }\n        else if (type === 'inner') {\n            API('/deleteInnerRepeat', 'POST', { _id, _parent_id, name: this.props.user.name }).then(result => {\n                Toast.hide()\n                if (result.success) {\n                    const { data } = this.state\n                    for (let item of data) {\n                        if (item._id === _parent_id) {\n                            const repeat = item.repeat.filter(msg => msg._id !== _id)\n                            item.repeat = repeat\n                            break\n                        }\n                    }\n                    this.setState({ data })\n                    this.props.setData({ payload: { type: 'messages', data } })\n                    Toast.success('已删除', 2)\n                } else Toast(result)\n            })\n        }\n    }\n    renderMsg(data, type, _parent_id) {\n        if (type === 'repeat') {\n            if (data.length === 0)\n                return (\n                    <div style={{ lineHeight: '20px' }} className=\"repeatItemContainer\">\n                        还没有人回复哦\n                    </div>\n                )\n            return <div className=\"repeatItemContainer\"  >\n                <div className=\"dot\"></div>\n                {\n                    data && data.map(item => {\n                        return (\n                            <div className=\"repeatItem\" key={item._id}>\n                                <div className=\"repeatStatus\">\n                                    <span>{item.name} {item.date} {item.toRepeat ? ' @ ' + item.toRepeat + ' ' : ' 补充 '}</span>\n                                    <Icon className='repeatInner' onClick={() => this.props.user.name ? this.handleRepeat(item, _parent_id, item.name) : Toast.fail('你还没有登录', 1)} type='plus'></Icon>\n                                    {\n                                        (this.props.user.admin || this.props.user.name === item.name) &&\n                                        <Icon style={{ marginRight: '46px' }} className='repeatInner deleteI' onClick={() => alert('提示', '确定删除吗？', [\n                                            { text: '取消', onPress: () => console.log('cancel') },\n                                            { text: '确定', onPress: () => this.deleteMsg(item._id, 'inner', _parent_id) }\n                                        ])} type='delete' />}\n                                </div>\n                                <div className=\"repeatText\">{item.info}</div>\n                            </div>\n\n                        )\n                    })\n                }\n            </div>\n        }\n        return data && data.map(item => {\n            return (\n                <div className=\"messageItem \" key={item._id}>\n                    <Card >\n                        <Card.Header\n                            className='itemFromLeft'\n                            title={<span><div style={{ paddingLeft: '7px', color: '#0056a0' }}>{item.name}</div><div className='messageDate'>{item.date.replace(/-----/, ' ')}</div></span>}\n                            thumb={this.setAvatar(item.name)}\n                        />\n                        <Card.Body className=''>\n                            <div style={{ color: '#4089bc', marginLeft: '53px', fontSize: '14px', lineHeight: '30px', whiteSpace: 'pre-wrap', textAlign: 'left' }}>{item.content}</div>\n                        </Card.Body>\n                        <Card.Footer\n                            className=''\n                            extra={\n                                <div className=\"messageOperationContainer\" style={{ textAlign: 'center' }}>\n                                    {(this.props.user.admin || this.props.user.name === item.name) &&\n                                        <div onClick={() => alert('提示', '确定删除吗？', [\n                                            { text: '取消', onPress: () => console.log('cancel') },\n                                            { text: '确定', onPress: () => this.deleteMsg(item._id, 'outer') }\n                                        ])}>\n                                            <Icon className='deleteI' style={{ position: 'relative', top: '-2px' }} type='delete' />\n                                        </div>\n                                    }\n                                    <div style={{ fontSize: '12px', color: '#4089bc' }} onClick={() => this.toggleList(item._id)}>\n                                        <span style={{ paddingRight: '5px' }}>{item.repeat.length || 0}</span>\n                                        <Icon type='message' />\n                                    </div>\n                                    {<div style={{ fontSize: '12px', color: '#4089bc' }} onClick={() => this.props.user.name ? this.openDialog(item._id, this.props.user.name === item.name ? null : item.name, this.props.user.name === item.name ? '你想补充什么呢' : item.name) : Toast.fail('你还没有登录', 1)} >\n                                        <Icon type='plus' />\n                                    </div>\n                                    }\n                                </div>} />\n                    </Card>\n                    {\n                        item.open && item.repeat && this.renderMsg(item.repeat.reverse(), 'repeat', item._id)\n                    }\n                </div>\n            )\n        })\n    }\n    openDialog(_id, toRepeat, placeholder) {\n        if (!!_id) {  //回复\n            const cb = data => {\n                window.debug() && console.log(data.content)\n                if (!data.content || data.content.trim() === '') {\n                    Toast.fail('输入不规范', 1)\n                    return\n                }\n                let date = new Date()\n                let minute = date.getMinutes()\n                const m = minute < 10 ? minute + 1 : '0' + minute\n                let seconds = date.getSeconds() < 10 ? `0${date.getSeconds()}` : date.getSeconds()\n                let hour = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours()\n                let year = date.getFullYear()\n                let month = date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1\n                let day = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate()\n                let d = year + '/' + month + '/' + day + ' ' + hour + ':' + m + ':' + seconds\n                Toast.loading('加载中', 1)\n                API('/repeatMsg', 'POST', {\n                    _id,\n                    msg: {\n                        info: escapeData(data.content),\n                        name: this.props.user.name,\n                        date: d,\n                        toRepeat\n                    }\n                }).then(result => {\n                    if (result.success) {\n                        data.hide({ visible: false })\n                        this.setState({ data: result.data.reverse() }, () => {\n                            Toast.loading('操作成功', 1)\n                            this.getAvatars()\n                            window.sessionStorage.setItem('messages', JSON.stringify(this.state.data.slice(0, 6)))    \n                        })\n                    }\n                    else Toast.offline(result)\n                })\n                return\n            }\n            this.props.openDialog({ count: 180, cb, placeholder: toRepeat === null ? '你想对自己补充点什么呢' : '在这里写下回复 ' + placeholder + ' 的话' })\n            return\n        }\n        //留言\n        this.refs._sendMsg.children[0].style.transform = 'rotate(45deg)'\n        const cb = data => {\n            window.debug() && console.log(data)\n            if (!data.content || data.content.trim() === '') {\n                Toast.offline('输入不规范', 1)\n                return\n            }\n            Toast.loading('加载中...', 3)\n            const msg = escapeData(data.content)\n            const name = this.props.user.name\n            let date = new Date()\n            let minute = date.getMinutes()\n            const m = minute < 10 ? '0' + minute : minute\n            let hour = date.getHours()\n            const h = hour < 10 ? '0' + hour : hour\n            let year = date.getFullYear()\n            let month = date.getMonth() + 1\n            const ms = month < 10 ? '0' + month : month\n            let day = date.getDate()\n            const _day = day < 10 ? '0' + day : day\n            let d = year + '-' + ms + '-' + _day + '-----' + h + ' : ' + m\n            API('/leaveMessage', 'POST', { date: d, content: msg, name }).then(result => {\n                if (result.success) {\n                    this.refs._sendMsg.children[0].style.transform = 'rotate(0deg)'\n                    this.setState({ data: [...result.data.reverse()] }, () => {\n                        Toast.loading('成功啦', 1)\n                        window.sessionStorage.setItem('messages', JSON.stringify(this.state.data.slice(0, 6)))                     \n                    })\n                    data.hide({ visible: false })\n                } else Toast.offline(result)\n            })\n        }\n        this.props.openDialog({ count: 180, cb, placeholder: '在这里写下你的留言...', cancelCallback: () => this.refs._sendMsg.children[0].style.transform = 'rotate(0deg)' })\n    }\n    render() {\n        const { scrollHeight } = this.state\n        // setTimeout(() => {\n        //     const els = document.getElementsByClassName('messageItem')\n        //     let k = 0\n        //     for (let i = 0; i < els.length; i++) {\n        //         console.log(i + 1)\n        //         els[i].style['animation-delay'] = `${(i + 1 % 6 === 0 ? 0 : i / 8) / 4}s`\n        //     }\n        //     k = 0\n        // }, 0);\n        return (\n            <div className=\"messageContainer contentSlideFromLeft\" style={{ height: scrollHeight + 'px' }} ref={body => this.body = body}>\n                <div ref='_sendMsg' className=\"sendMsg\" onClick={() =>\n                    this.props.user.name ?\n                        (this.openDialog(),\n                            toggleRotate(this.refs._sendMsg.children[0])\n                        ) : Toast.fail('你还没有登陆', 1)} >\n                    <Icon className='sendMsgI' type='plus' />\n                </div>\n                {\n                    this.renderMsg(this.state.data)\n                }\n                {\n                    !this.state.isOver &&\n                    <div className='loadingCon'>\n                        <Icon type='loading' />\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nfunction escapeData(data) {\n    return data.replace(/<input\\stype=\"text\"\\sdata-formula=\"e=mc\\^2\"\\sdata-link=\"quilljs\\.com\"\\sdata-video=\"Embed\\sURL\"\\splaceholder=\"Embed\\sURL\">/g, '').replace(/<\\/?script>+|傻逼+|爸爸+|你爸+|SB+|sB+|sb+|操+|你妈/g, '**');\n}\nfunction toggleRotate(el) {\n    el.style.transform = 'rotate(45deg)'\n    const els = document.querySelectorAll('.am-modal-button')\n    for (let item of els)\n        item.addEventListener('click', () => {\n            el.style.transform = 'rotate(0deg)'\n        })\n\n}\nexport const Message = connect(state => {\n    return {\n        user: state.user,\n        messages: state.datas.messages,\n        avatars: state.datas.avatars,\n        toTopVisible: state.toTop.visible,\n        screen: state.screen        \n    }\n}, (dispatch) => {\n    return {\n        setData(params) {\n            dispatch({ type: 'SET_DATA', ...params })\n        },\n        openDialog(payload) {\n            dispatch({ type: 'LEAVE_MESSAGE', payload })\n        },\n        changeTop(type) {\n            dispatch({ type })\n        },\n    }\n})(_UI)","import React from 'react'\nimport './about.css'\nimport ReactHtmlParser from 'react-html-parser'\nimport { Icon } from 'antd'\nimport { connect } from 'react-redux';\nclass UI extends React.PureComponent {\n    constructor() {\n        super()\n        this.state = {\n            html: ``,\n            text: '',\n            show: false,\n            timeout: null\n        }\n    }\n    componentWillUnmount(){\n        this.setState = (state, callback) => { return }\n        clearTimeout(this.state.timeout)\n    }\n    componentDidMount() {\n        this.props.changeTop('HIDE')        \n        const start = `// 请允许我先自我介绍一下：\nexport const renderMyself = props => {\n return(\n    <div>\n     <p>姓名：向晗</p>\n    /*等等文字太暗看不到*/ => color:white\n    /*再往左边靠*/ => text-align:left\n    /*好像有点小拥挤？*/=> padding:10px\n     <p>性别：男</p> /*废话*/\n    /*文字出现的太普通了，写个动画吧，animation */\n     <p>爱好：妹子</P> /*...不对，写错了*\n     <p>爱好: code </p> /*嗯，是的没错*/\n    /*再来个旋转试试， transform 3d*/\n     <p>年龄：22</p>/*真没装嫩*/\n     <p>技能：HTML，CSS3，ES6-7-8，Node，React...</p>\n    /*我自己都信了(我怎么不加上吹牛p呢)*/\n    /*再来一个交互吧？*/\n     <Icon type='redo' onClick={ () => {\n       /className/.test(el.className) ? \n       (el.className = someClassName) : \n       (el.className = anotherClassName)\n    }}/> /* 好了，试一下点击那个图标能不能toggle这个类*/\n    </div>\n    )\n}`\n        for (let i = 0; i < start.length; i++) {                    \n            window.debug() && console.log(i, start[i])\n            this.setState({\n                timeout: setTimeout(() => {\n                    if (document.getElementsByClassName('Scrool')[0]) {\n                        document.getElementsByClassName('Scrool')[0].scrollIntoView(false)\n                    }\n                    if (i === 90) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView1'><p>姓名：向晗</p></div>`\n                        })\n                    }\n                    if (i === 123) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView2'><p>姓名：向晗</p></div>`\n                        })\n                    }\n                    if (i === 156) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView2 _topView3'><p>姓名：向晗</p></div>`\n                        })\n                    }\n                    if (i === 188) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView2 _topView3 _topView4'><p>姓名：向晗</p></div>`\n                        })\n                    }\n                    if (i === 211) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView2 _topView3 _topView4'>\n                                <p>姓名：向晗</p>\n                                <p class=''>性别：男</p>\n                            </div>`\n                        })\n                    }\n                    if (i === 261) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView2 _topView3 _topView4'>\n                                <p>姓名：向晗</p>\n                                <p class=''>性别：男</p>\n                                <p class='itemFromRight'>爱好：妹子</P>\n                            </div>`\n                        })\n                    }\n                    //\n                    if (i === 278) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView2 _topView3 _topView4'>\n                                <p>姓名：向晗</p>\n                                <p class=''>性别：男</p>\n                                <p style='text-decoration:line-through' class='itemFromRight'>爱好：妹子</P>\n                            </div>`\n                        })\n                    }\n                    if (i === 309) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topView2 _topView3 _topView4'>\n                                <p>姓名：向晗</p>\n                                <p>性别：男</p>\n                                <p class='itemFromRight' style='text-decoration:line-through'>爱好：妹子</P>\n                                <p class='itemFromRight'>爱好：code</P>\n                            </div>`\n                        })\n                    }\n                    if (i === 340) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topViewRotate _topView2 _topView3 _topView4'>\n                                <p>姓名：向晗</p>\n                                <p>性别：男</p>\n                                <p class='itemFromRight' style='text-decoration:line-through'>爱好：妹子</P>\n                                <p class='itemFromRight'>爱好：code</P>\n                            </div>`\n                        })\n                    }\n                    if (i === 367) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topViewRotate _topView2 _topView3 _topView4'>\n                                <p>姓名：向晗</p>\n                                <p>性别：男</p>\n                                <p class='itemFromRight' style='text-decoration:line-through'>爱好：妹子</P>\n                                <p class='itemFromRight'>爱好：code</P>\n                                <p class='itemFromRight'>年龄：22</P>\n                            </div>`\n                        })\n                    }\n                    if (i === 441) {\n                        this.setState({\n                            html: `<div ref='_ref' class='_topViewRotate _topView2 _topView3 _topView4'>\n                                <p>姓名：向晗</p>\n                                <p>性别：男</p>\n                                <p class='itemFromRight' style='text-decoration:line-through'>爱好：妹子</P>\n                                <p class='itemFromRight'>爱好：code</P>\n                                <p class='itemFromRight'>年龄：22</P>\n                                <p class='itemFromRight'>技能：HTML，CSS3，ES6-7-8，Node，React...</p>\n                            </div>`\n                        })\n                    }\n\n                    if (i === 651) {\n                        this.setState({ show: true })\n                    }\n                    this.setState({\n                        text: this.state.text + start[i]\n                    })\n                }, i * 100)\n            })\n        }\n    }\n    toggleStatus() {\n        if (this.refs._ref) {\n            const el = document.getElementsByClassName('_topView2')[0]\n            if (el){\n            (/toggleStatus/.test(el.className)) ? (el.className = el.className.replace(/toggleStatus/, ' ')) : (el.className += ' toggleStatus ')\n        }}\n\n    }\n    render() {\n        return (\n            <div className=\"aboutContainer\">\n                <div ref='ref' className=\"diyView contentSlideFromLeft\">\n                    {\n                        this.state.show && <Icon onClick={() => this.toggleStatus()} className='togleStatus' type=\"redo\" />\n                    }\n                    {\n                        ReactHtmlParser(this.state.html)\n                    }\n                </div>\n                <div className=\"inputText contentSlideFromRight\">\n                    <div className=\"Scrool\">\n                        {\n                            this.state.text\n                        }\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport const About = connect(state => {\n    return { \n        toTopVisible: state.toTop.visible\n    }\n}, dispatch => {\n    return {\n        changeTop(type) {\n            dispatch({ type })\n        }\n    }\n})(UI)","import React from 'react'\nimport { SearchBar, Toast } from 'antd-mobile'\nimport './index.css'\nimport { connect } from 'react-redux'\nimport { Icon } from 'antd'\nimport { API } from '../../request/request'\n\nexport class UI extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            customer: 0                   \n        }\n    }\n    componentDidMount() {\n        this.props.changeTop('HIDE')                        \n        loadBg('/resouce/images/glitch.jpg').then(src => {\n            const glitch = new window.Glitch(src, document.getElementsByClassName('glitchContainer')[0], {\n                width: '100%',\n                height: '100%',\n                title: 'Blog',\n                info: `where'd you go ?`\n            })\n            glitch.init()\n        })\n\n        API('/get-customer').then(result => {\n            if (result.success)\n                this.setState({ customer: result.data.number }, handleFly)\n        })\n    }\n    handleChange(e) {\n        if (!e || e.trim() === '') {\n            Toast.fail('请输入搜索关键词', 2)\n            return\n        }\n        this.props.set('search', '搜索')\n        this.props.history.push('/search/' + e)\n    }\n    resetView() {\n        document.getElementsByClassName('container')[0].scrollIntoView(false)\n    }\n    render() {\n        return (\n            <div className=\"indeContainer contentSlideFromLeft\">\n                <div className=\"bannerCOntainer itemFromLeft\" style={{ position: \"absolute\" }}>\n                    <div className=\"glitOverflow\" style={{ zIndex: '1', position: \"absolute\", width: \"3.5rem\", left: \"50%\", transform: 'translateX(-50%)', overflow: 'hidden', height: '100%' }}>\n                        <div className=\"glitchContainer\">\n                        </div>\n                    </div>\n                </div>\n                <div className=\"IndexVIew\">\n                    <div className='saerchContainer flyItem'>\n                        <SearchBar onSubmit={(e) => this.handleChange(e)} onBlur={() => this.resetView()} placeholder=\"搜索\" maxLength={8} />\n                    </div>\n                    <div className=\"flyContainer\">\n                        <div className='flyItem'>Believe</div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'><p style={{ bottom: '16px' }}><Icon type=\"bar-chart\" /> {this.state.customer}</p></div>\n                        <div className='flyItem' style={{ textAlign: 'left' }}></div>\n                        <div className='flyItem'></div>\n                        <div className='flyItem'><p className=\"fly\" style={{ right: '-25px', bottom: '15px' }}>Fly</p> </div>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\nexport const Index = connect(state => {\n    return {\n        type: state.logo.src\n    }\n}, dispatch => {\n    return {\n        set(src, item) {\n            dispatch({ type: 'LOGO', payload: { src, item } })\n        },\n        changeTop(type) {\n            dispatch({ type })\n        },\n    }\n})(UI)\n\nfunction loadBg(bg) {\n    return new Promise(resolve => {\n        const f = new Image()\n        f.src = bg || '/resouce/images/fly.jpg'\n        f.onload = e => {\n            if (f.complete) {\n                resolve(f.src)\n                return\n            }\n        }\n    })\n}\n\nfunction handleFly(type) {\n    if (window.location.pathname !== '/index') return\n    const els = document.getElementsByClassName('flyItem')\n    loadBg().then(src => {\n        for (let el of els) {\n            const x = (Math.random() + 1) * 300\n            const op = parseInt(x) % 2 === 0 ? -1 : 1\n            const y = (Math.random() + 1) * 300\n            el.style.backgroundImage = `url(${src})`\n            el.style.transform = `translateX(${op * x}px) translateZ(${op * x}px) translateY(${op * y}px)`\n        }\n        setTimeout(() => {\n            for (let el of els) {\n                const duration = (Math.random() * 3)\n                el.style.transform = `translate3d(0,0,0)`\n                el.style.opacity = '1'\n                el.style['transition-duration'] = duration + 's'\n            }\n        }, 250)\n    })\n}","import React from 'react'\nimport './search.css'\nimport { Toast, Popover } from 'antd-mobile'\nimport { API } from '../../request/request'\nimport ReactHtmlParser from 'react-html-parser';\nconst Item = Popover.Item\nexport class Search extends React.PureComponent{\n    constructor(props){\n        super(props)\n        this.state = {\n            data: []\n        }\n    }\n    componentDidMount(){\n        const { wd } = this.props.match.params\n        if (!!wd){\n            Toast.loading('加载中', 10)\n            API('/search1', 'POST', { data: wd }).then(res => {\n                Toast.hide()\n                res.success && res.result.length === 0 && Toast.offline('并没有找到关于\"' + wd + '\"的相关呢', 2, () => this.props.history.push('/index'))\n                res.success ? this.setState({ data: res.result }) : Toast(res)\n            })\n        }\n    }\n    onSelect(key) {\n        const _id = key.props.value\n        if (key.key === '4') {\n            this.props.history.push('/article/' + _id)\n        }\n    }\n    render(){\n        console.log(this.state.data)\n        return(\n            <div className=\"searchContainer contentSlideFromLeft\">\n                <ul className=\"searchList\">\n                    {\n                        this.state.data.map(item => {\n                            return(\n                                <li className=\"searchItem itemFromLeft\" key={item._id}>\n                                    <div className=\"searchHeader\">\n                                        <div className=\"searchDate\" style={{ [item.type === '文章' && 'width']: '50%', [item.type === '文章' && 'flex']: 'none', textAlign: 'left'}}>\n                                            <span>时间：</span>\n                                            <span>{item.date}</span> \n                                        </div>\n                                        <div className=\"searchType\">\n                                            <span>类别：</span>\n                                            <span>{item.type}</span>\n                                        </div>\n                                        {\n                                            item.type === '文章' &&\n                                            <div className='searchOperation' style={{textAlign:'right'}}>\n                                                <Popover mask\n                                                    overlayClassName=\"fortest\"\n                                                    overlayStyle={{ color: 'currentColor' }}\n                                                    visible={this.state.visible}\n                                                    overlay={[\n                                                        (<Item key=\"4\" value={item._id} data-seed=\"logId\">查看详情</Item>),\n                                                    ]}\n                                                    align={{\n                                                        overflow: { adjustY: 0, adjustX: 0 },\n                                                        offset: [-10, 0],\n                                                    }}\n                                                    onSelect={(key) => this.onSelect(key)}\n                                                >\n                                                    <div>more</div>\n                                                </Popover>\n                                            </div>\n                                        }\n                                    </div>\n                                    <div className=\"searchSummary\">\n                                        {item.type === '文章' ? ReactHtmlParser(item.summary.slice(0, 200).replace(/contenteditable=\"true\"/g, '') + ' ......') : <div>{item.summary}</div>}\n                                    </div>\n                                </li>\n                            )\n                        })\n                    }\n                </ul>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { SwipeAction, List, Toast } from 'antd-mobile'\nimport { API } from '../../request/request'\nimport { Icon } from 'antd'\nclass UI extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            dynamics: [],\n            data: {}\n        }\n    }\n    componentDidMount(){\n        API('/getDynamic').then(result => result.success && this.setState({ dynamics: result.data }))\n    }\n    handleSwiper(type, _id, img) {\n        if (type === 'edit'){\n            const { dynamics } = this.state\n            const currentDynamic = dynamics.filter(item => item._id === _id)\n            const { title, content, img }  = currentDynamic[0]\n            const cb = data => {   \n                data._id = _id \n                window.debug() && console.log(data)\n                if (data.title === title && data.content === content) {\n                    Toast.offline('内容未更改', 1)\n                    return\n                }\n                Toast.loading('更新中', 10)\n                API('/updateDynamic', 'POST', data).then(result => {\n                    if (result) {\n                        Toast.hide()\n                        Toast.success('更新成功', 1)\n                        data.hide({ visible: false })\n                        // this.props.updateData({ payload: { type: 'dynamics', data } })\n                    }\n                })\n            }\n            this.props.queryDynamic({ dynamic: { title, content, _id, img } , visible: true, cb })\n            return\n        }\n        Toast.loading('删除中', 10)\n        API('/deleteDynamic', 'POST', { _id }).then(result => {\n            if (result.success){\n                Toast.hide()\n                const { dynamics } = this.state\n                const data = dynamics.filter(item => item._id !== _id)\n                Toast.success('已删除', 1.5)\n                this.setState({\n                    dynamics: data\n                })\n            }\n        })\n    }\n    callback(updateVO){ //发布dynamic的回调\n        if (!updateVO.title || !updateVO.title.trim() === '') {\n            Toast.offline('标题呢？', 1)\n            return\n        }\n        if (!updateVO.content || updateVO.content.trim() === '') {\n            Toast.offline('内容呢？', 1)\n            return\n        }\n        const date = new Date();\n        const d = date.getFullYear() + '-' + ((date.getMonth() + 1) < 10 ? `0${(date.getMonth() + 1)}` : (date.getMonth() + 1)) + '-' + (date.getDate() < 10 ? `0${date.getDate()}` : date.getDate());\n        API('/addDynamic', 'POST', { ...updateVO, date: d, upvote: 1 }).then(result => {\n            if (result.success) {\n                Toast.success('发布成功', 1.5)\n                // this.props.setData({ payload: { type: 'dynamics', data: result.data.reverse() } })\n                updateVO.hide({ visible: false })\n            } else Toast.offline(result)\n        })\n    }\n    render() {\n        return (\n            <div className=\"dynamicListContainer contentSlideFromLeft\">\n                <div className=\"newDynamic\" onClick={() => {\n                    this.props.newDynamic({ cb: (data) => this.callback(data), placeholder: '在这里输入内容'})\n                }} >\n                    <Icon type='plus'/>\n                </div>\n                <List>\n                    {\n                        this.state.dynamics.map(item => {\n                            return (\n                                <SwipeAction key={item._id} style={{ backgroundColor: 'gray' }}\n                                    autoClose\n                                    right={[\n                                        {\n                                            text: '编辑',\n                                            onPress: () => this.handleSwiper('edit', item._id, item.img),\n                                            style: { backgroundColor: '#ddd', color: 'white' },\n                                        },\n                                        {\n                                            text: '删除',\n                                            onPress: () => this.handleSwiper('delete', item._id),\n                                            style: { backgroundColor: '#F4333C', color: 'white' },\n                                        },\n                                    ]}\n                                >\n                                    <List.Item\n                                        extra=''\n                                        arrow=\"horizontal\"\n                                    >\n                                        <div className='titleSet'>\n                                            <div>{item.title}</div>\n                                            <div>{item.date}</div>\n                                        </div>\n                                    </List.Item>\n                                </SwipeAction>\n                            )\n                        })\n                    }\n                </List>\n            </div>\n        )\n    }\n}\nexport const DynamicList = connect(state => {\n    return {\n        dynamics: state.datas.dynamics\n    }\n}, dispatch => {\n    return {\n        setData(params) {\n            dispatch({ type: 'SET_DATA', ...params })\n        },\n        queryDynamic(payload){\n            dispatch({ type: 'QUERY_DYNAMIC', payload })\n        },\n        updateData(params) {\n            dispatch({ type: 'UPDATE_DATA', ...params })\n        },\n        newDynamic(payload){\n            dispatch({ type: 'NEW_DYNAMIC', payload })\n        }\n    }\n})(UI)","import React from 'react'\nimport './admin.css'\nimport { Toast } from 'antd-mobile'\nimport { API } from '../../request/request';\nexport const PicManage = () => {\n    return(\n        <div className=\"picContainer contentSlideFromRight\">\n            <div className='itemPic'>\n                <img src=\"/resouce/images/glitch.jpg\" alt=\"\" className=\"imgContainer\"/>\n                <input type='file' className='handlePicInput' onChange={info => handleFile(info.nativeEvent.target.files[0], 'glitch')} />\n            </div>\n            <div className='itemPic'>\n                <img src=\"/resouce/images/fly.jpg\" alt=\"\" className=\"imgContainer\" />                \n                <input type='file' className='handlePicInput' onChange={info => handleFile(info.nativeEvent.target.files[0], 'fly')} />\n            </div>\n        </div>\n    )\n}\n\nfunction handleFile(file, type) {\n    if (!/png+|jpeg+|gif+|GIF+|PNG+|JPEG/.test(file.type)) {\n        Toast.fail('不支持的图片类型', 1)\n        return\n    }\n    const fileReader = new FileReader()\n    fileReader.readAsBinaryString(file)\n    fileReader.onload = e => {\n        API('/setPics', 'POST', { binary: e.target.result, type }).then(res => {\n            if (res.success) {\n                Toast.success('首页' + type + '图已更新', 1)\n            } else Toast.fail(res)\n        })\n    }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Toast, SegmentedControl } from 'antd-mobile'\nimport './admin.css'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { DynamicList } from './dynamicList'\n// import { ArticleList } from './articleList'\nimport { PicManage } from './indexPic'\n// import { Edit } from './edit';\n// import { New } from './new';\nclass UI extends React.PureComponent {\n    constructor(props) {\n        super(props)\n        this.state = {\n\n        }\n    }\n    componentDidMount() {\n        this.props.changeTop('HIDE')        \n        if (!this.props.user.admin) {\n            Toast.offline('你还没有权限或者没登录', 2)\n            this.props.history.push('/index')\n            return\n        }\n    }\n    onTypeChange(e) {\n        const type = e.nativeEvent.selectedSegmentIndex\n        this.props.history.push('/admin/' + (type === 0 ? 'dynamic' : 'pic'))\n    }\n    render() {\n        return (\n            <div className=\"adminContainer contentSlideFromLeft\">\n                <SegmentedControl onChange={(e) => this.onTypeChange(e)} selectedIndex={0} values={['动态', '首页图片']} />\n                <div className=\"routeContainer\">\n                    <Switch>\n                        <Route path='/admin/dynamic' component={DynamicList} />\n                        {/* <Route path='/admin/article' component={ArticleList} /> */}\n                        <Route path='/admin/pic' component={PicManage} />\n                        <Redirect from='/admin' to='/admin/dynamic' />\n                    </Switch>\n                </div>\n            </div>\n        )\n    }\n}\nexport const Admin = connect(state => {\n    return {\n        user: state.user,\n        visible: state.dialog.visible,\n        toTopVisible: state.toTop.visible        \n    }\n}, dispatch => {\n    return {\n        changeTop(type) {\n            dispatch({ type })\n        },\n    }\n})(UI)","import React from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport Dynamic from './../dynamic/dynamic'\nimport { Article } from './../article/article'\nimport { ArticleDetail } from './../detail/detail'\nimport { Message } from './../message/message'\nimport { About } from '../about/about'\nimport { Index } from '../index'\nimport { Search } from '../search/search'\nimport { Admin } from '../admin/admin'\nexport const RouteConfig = () => {\n    //<div className=\"view\">\n    return (\n        \n            <Switch>\n                    <Route path='/index' component={Index} />\n                    <Route path='/dynamic' component={Dynamic} />\n                    <Route path='/article' exact component={Article} />\n                    <Route path='/article/:id' component={ArticleDetail} />\n                    <Route path='/message' component={Message} />\n                    <Route path='/about' component={About} />\n                    <Route path='/search/:wd' component={Search} />\n                    <Route path='/admin' component={Admin} />\n                    <Redirect from='/*' to='/index'></Redirect>\n            </Switch>\n        // </div>\n    )\n}","import React from 'react'\nimport './login.css'\nimport { Icon } from 'antd';\nimport { Toast } from 'antd-mobile'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom';\nimport { API } from '../../request/request';\n// const prompt = Modal.prompt\nclass UI extends React.PureComponent {\n    constructor() {\n        super()\n        this.state = {\n            aside: false,\n            status: '登陆',\n            user: {},\n            avatar: '',\n            scrollHeight: 0,\n        }\n    }\n    toggleAside() {\n        this.setState({\n            aside: !this.state.aside\n        })\n    }\n    loginOrRegister(type) {\n        if (this.props.user.text === '注销' && type !== 'register') {\n            this.props.logoOut()\n            return\n        }\n        this.props.toggleUI(type, 'open')\n        this.toggleAside()\n    }\n    componentWillMount() {\n        if (/user/.test(document.cookie)) {\n            const arr = document.cookie.split('; ')\n            let cookies = []\n            for (let item of arr) {\n                cookies = item.split('=')\n                if (cookies[0] === 'user') {\n                    sessionStorage && sessionStorage.setItem('user', cookies[1])\n                    return\n                }\n            }\n        }\n    }\n    componentDidMount() {\n        this.setState({\n            scrollHeight: window.innerHeight - 110\n        })\n        const con = document.getElementsByClassName('loginRegContainer')[0]\n        con.style.height = window.innerHeight + 'px'\n        window.addEventListener('resize', () => {\n            con.style.height = window.innerHeight + 'px'\n        })\n    }\n    componentWillReceiveProps(props){\n        // this.setState({ asideScreen: props.screen })\n        const isFullScreen = props.screen\n        this.setState({\n            scrollHeight: isFullScreen ? window.innerHeight + 10 : window.innerHeight - 110\n        })\n    }\n    handleUpload(info) {\n        const file = info.nativeEvent.target.files[0]\n        handleFile.call(this, file)\n    }\n    shareToSina() {\n        const title = 'Ada - Blog'\n        const pic = \"http://hyrsi.com/t6/649/1546498488x2890191781.png\";\n        (function (s, d, e) { try { } catch (e) { } var f = 'http://v.t.sina.com.cn/share/share.php?', u = d.location.href, p = ['url=', e(u), '&title=', e(title), '&appkey=2924220432', '&pic=', e(pic)].join(''); function a() { if (!window.open([f, p].join(''), 'mb', ['toolbar=0,status=0,resizable=1,width=620,height=450,left=', (s.width - 620) / 2, ',top=', (s.height - 450) / 2].join(''))) u.href = [f, p].join(''); }; if (/Firefox/.test(navigator.userAgent)) { setTimeout(a, 0) } else { a() } })(window.innerWidth, document, encodeURIComponent);\n    }\n    render() {\n        // const { scrollHeight } = this.state\n        const { aside } = this.state\n        return (\n            <div style={{ transform: this.props.screen ? 'translateX(-125%)' : 'translateX(-102%)'}} className={aside ? \"loginContainer asideToggle\" : 'loginContainer'}>\n\n                <div className=\"entrySwitch\" style={{right: aside ? '15px' : '-30px'}} onClick={() => this.toggleAside()}>\n                    <Icon type='right'/>\n                </div>\n                <div className=\"leftContainer\">\n                    <div className=\"avatarContainer\">\n                        {\n                            this.props.user.name && <div className=\"upload\">\n                                <input type='file' onChange={(info) => this.handleUpload(info)}>\n                                </input>\n                            </div>\n                        }\n                        <img src={(this.props.user.avatar ? this.props.user.avatar : '/upload/user_avatar/IMG_0039.GIF')} alt=\"\" />\n                        <span className=\"userName\">\n                            {\n                                this.props.user.name || 'Ada'\n                            }</span>\n                    </div>\n                    <div className=\"operationListContainer\">\n                        <ul className=\"operationList\">\n                            <li onClick={() => this.loginOrRegister('login')} className=\"operationItem\">\n                                <span>\n                                    <Icon type=\"user\" />\n                                </span>\n                                {this.props.user.text}\n                            </li>\n                            {!this.props.user.name && <li onClick={() => this.loginOrRegister('register')} className=\"operationItem\">\n                                <span>\n                                    <Icon type=\"user-add\" />\n                                </span>\n                                注册\n                            </li>}\n                            <li className=\"operationItem\">\n                                <a style={{ color: 'white' }} href=\"https://github.com/adaxh\">\n                                    <span>\n                                        <Icon type=\"github\" />\n                                    </span>\n                                    github\n                                </a>\n                            </li>\n                            <li className=\"operationItem\" onClick={() => {\n                                this.props.set('gallery', '图库')\n                                this.toggleAside()\n                                document.getElementsByClassName('galleryContainer')[0].className = 'galleryContainer galleryContainerOpen'\n                            }}>\n\n                                <span>\n                                    <Icon type=\"picture\" />\n                                </span>\n                                图库\n\n                            </li>\n                            <li className=\"operationItem\" onClick={() => this.shareToSina()}>\n                                <span>\n                                    <Icon type=\"weibo\" />\n                                </span>\n                                分享到微博\n                            </li>\n                            <li className=\"operationItem\" onClick={() => {\n                                const p = {\n                                    url: 'https://www.adaxh.applinzi.com',\n                                    showcount: '0',/*是否显示分享总数,显示：'1'，不显示：'0' */\n                                    summary: '个人主页，快来看看吧！',/*分享摘要(可选)*/\n                                    title: 'Ada - Blog',/*分享标题(可选)*/\n                                    pics: 'http://thyrsi.com/t6/649/1546498488x2890191781.png', /*分享图片的路径(可选)*/\n                                    style: '203',\n                                    width: 98,\n                                    height: 22\n                                };\n                                const s = []\n                                for (let key in p)\n                                    s.push(key + '=' + encodeURIComponent(p[key] || ''))\n                                window.open(\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?\" + s.join('&'))\n                            }}>\n                                <span>\n                                    <Icon type=\"star\" />                                        \n                                </span>    \n                                分享到QQ空间\n                            </li>\n                            <li className=\"operationItem\">\n                                <NavLink to={this.props.user.admin ? '/admin' : window.location.pathname} onClick={() => {\n                                    if (!this.props.user.name) {\n                                        Toast.offline('你还没有登录', 1)\n                                        return\n                                    }\n                                    if (!this.props.user.admin) {\n                                        Toast.offline('你还没有这个权限', 1)\n                                        return\n                                    }\n                                    this.props.set('tool', '管理')\n                                    this.toggleAside()\n                                }}>\n                                    <span>\n                                        <Icon type=\"tool\" />\n                                    </span>\n                                    管理员\n                                </NavLink>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst Aside = connect(state => {\n    return {\n        user: state.user,\n        aside: state.aside,\n        screen: state.screen\n    }\n}, dispatch => {\n    return {\n        userInfo(user) {\n            dispatch({ type: 'SET_USER_VO', payload: { ...user } })\n        },\n        asideFn(status) {\n            dispatch({ type: 'ASIDE', payload: status })\n        },\n        logoOut() {\n            dispatch({ type: 'CLEAR_USER' })\n        },\n        toggleUI(type, status) {\n            dispatch({ type: 'CHANGE', payload: { type, status } })\n        },\n        set(src, item) {\n            dispatch({ type: 'LOGO', payload: { src, item } })\n        }\n    }\n})(UI)\n\nfunction handleFile(file) {\n    const { name } = file\n    if (!/png+|jpeg+|gif+|GIF+|PNG+|JPEG/.test(file.type)) {\n        Toast.fail('不支持的图片类型', 1)\n        return\n    }\n    const fileReader = new FileReader()\n    fileReader.readAsBinaryString(file)\n    fileReader.onload = e => {\n        API('/set-avatar', 'POST', { avatar: e.target.result, name: this.props.user.name, fileName: name }).then(res => {\n            if (res.success) {\n                this.props.userInfo({ ...this.props.user, avatar: `/upload/user_avatar/${name}` })\n                Toast.success('更新头像成功', 1)\n            } else Toast.fail(res)\n        })\n    }\n}\nexport default Aside","import React from 'react';\nimport './login.css'\nimport { connect } from 'react-redux';\nimport { Icon, Row, Col, Button, Form, Checkbox, Input } from 'antd'\nimport { Toast } from 'antd-mobile'\nimport { Base64 } from 'js-base64'\nimport { API } from '../../request/request'\nimport Cookies from 'js-cookie'\n\nconst FormItem = Form.Item\nconst UI = props => {\n    const { getFieldDecorator } = props.form;\n    const handleSubmit = e => {\n        e.preventDefault();\n        props.form.validateFields((err, values) => {\n            if (!err) {\n                if (/ /.test(values.name)) {\n                    Toast.fail('用户名不包含空格', 1)\n                    return\n                }\n                if (values.name.length > 20) {\n                    Toast.fail('用户名不超过20字符', 1)\n                    return\n                }\n                if (/ /.test(values.pwd)) {\n                    Toast.fail('密码不包含空格', 1)\n                    return\n                }\n                if (values.pwd.length > 20) {\n                    Toast.fail('密码不超过16位', 1)\n                    return\n                }\n                if (props.type === 'register' && values.pwd !== values.pwd2) {\n                    Toast.fail('两次密码不一致', 1)\n                    return\n                }\n                values.pwd = Base64.encode(values.pwd)\n                delete values.pwd2\n                Toast.loading(props.type + '中...', 3)\n                API(props.type === 'login' ? '/login' : '/register', 'POST', values).then(result => {\n                    if (result.success) {\n                        Toast.success(props.type === 'login' ? '登陆成功' : '注册成功，请登录', 1, props.type === 'login' ? (() => {\n                            props.userInfo({ ...result, text: '注销' })\n                            sessionStorage && sessionStorage.setItem('user', Base64.encode(values.name))\n                            Cookies.set('token', result.token)\n                            Cookies.set('user', Base64.encode(values.name))\n                            props.change('login', 'hide')\n                        }) : (() => {\n                            props.change('login', 'open')\n                        }))\n                    } else\n                        Toast.fail(result, 1)\n                })\n            }\n        });\n    }\n    function resetView() {\n        document.getElementsByClassName('container')[0].scrollIntoView(false)\n    }\n    return (\n        <div className={props.status === 'hide' ? 'loginRegContainer' : 'loginRegContainer showContainer'}>\n            <div className=\"backIcon\" onClick={() => props.change(props.type, 'hide')}>\n                <Icon type=\"left\" />\n\n            </div>\n            <Row type='flex' justify='center'>\n                <Col span={10} className='loginLogo'>\n                    <div className='loginLogoDiv'>\n                        <Icon type=\"pie-chart\" />\n                    </div>\n                    <div className='loginLogoDiv'>\n                        Welcome\n                    </div>\n                </Col>\n            </Row>\n            <Row type='flex' justify='center' style={{ marginTop: '30px' }}>\n                <Col span={23}>\n                    <Form onSubmit={(e) => handleSubmit(e)} className=\"login-form\">\n                        <FormItem>\n                            {getFieldDecorator('name', {\n                                rules: [{ required: true, message: '请输入用户名！' }],\n                            })(\n                                <Input onBlur={() => resetView()} autoComplete={props.type === 'register' ? 'true' : 'false'} className='_input' prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"用户名\" />\n                            )}\n                        </FormItem>\n                        <FormItem>\n                            {getFieldDecorator('pwd', {\n                                rules: [{ required: true, message: '请输入密码！' }],\n                            })(\n                                <Input onBlur={() => resetView()} autoComplete={props.type === 'register' ? 'true' : 'false'} className='_input' prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"密码\" />\n                            )}\n                        </FormItem>\n                        {\n                            props.type === 'register' &&\n                            <FormItem>\n                                {getFieldDecorator('pwd2', {\n                                    rules: [{ required: true, message: '请再次输入密码！' }],\n                                })(\n                                    <Input onBlur={() => resetView()} autoComplete={props.type === 'register' ? 'true' : 'false'} className='_input' prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"确认密码\" />\n                                )}\n                            </FormItem>\n                        }\n                        {props.type === 'login' &&\n                            <FormItem>\n                                {getFieldDecorator('state', {\n                                    valuePropName: 'checked',\n                                    initialValue: true,\n                                })(\n                                    <Checkbox>记住登录状态</Checkbox>\n                                )}\n                            </FormItem>\n                        }\n                        <FormItem>\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                                {props.type === 'login' ? '登陆' : '注册'}\n                            </Button>\n                        </FormItem>\n                    </Form>\n                </Col>\n            </Row>\n        </div>\n    )\n}\nconst WrappedNormalLoginForm = Form.create()(UI);\n\nexport const LoginReg = connect(state => {\n    return {\n        ...state.loginUI\n    }\n}, dispatch => {\n    return {\n        change(type, status) {\n            dispatch({ type: 'CHANGE', payload: { type, status } })\n        },\n        userInfo(user) {\n            dispatch({ type: 'SET_USER_VO', payload: { ...user } })\n        },\n    }\n})(WrappedNormalLoginForm)","import React from 'react'\nimport './container.css'\nimport { Footer } from './../footer/footer'\nimport { Header } from './../header/header'\nimport { RouteConfig } from './../route/route'\nimport { Toast } from 'antd-mobile'\nimport { connect } from 'react-redux'\nimport Aside from './../aside/Aside'\nimport { LoginReg } from '../aside/loginrReg'\nimport { Base64 } from 'js-base64'\nimport { API } from '../../request/request'\nimport { Icon } from 'antd'\n\nclass UI extends React.PureComponent {\n    componentDidMount() {\n        if (sessionStorage && !!sessionStorage.getItem('user')) {\n            API('/getUserInfor', 'POST', { name: Base64.decode(sessionStorage.getItem('user')) }).then(result => {\n                result.success ? this.props.userInfo({ ...result.user, status: true, text: '注销' }) : Toast.offline(result.errorMsg || result, 1)\n            })\n        }\n        window.addEventListener('popstate', ev => {\n            // console.log(ev)\n            const imgDetail = document.getElementsByClassName('imgDetail')[0]\n            const galleryContainer = document.getElementsByClassName('galleryContainer')[0];\n            /galleryContainerOpen/.test(galleryContainer.className) && (galleryContainer.className = 'galleryContainer')\n            imgDetail && (imgDetail.style.display === 'block') && (imgDetail.style.display = 'none')\n        }, false)\n        const con = document.getElementsByClassName('container')[0]\n        con.style.height = window.innerHeight + 'px'\n        window.addEventListener('resize', () => con.style.height = window.innerHeight + 'px')\n        const imgDetail = document.getElementsByClassName('imgDetail')[0]\n        imgDetail.addEventListener('click', ev => {\n            ev.target.tagName.toUpperCase() !== 'IMG' && (imgDetail.style.display = 'none')\n        })\n    }\n    exitFullscreen() {\n        const de = document;\n        if (de.exitFullscreen) {\n            de.exitFullscreen();\n        } else if (de.mozCancelFullScreen) {\n            de.mozCancelFullScreen();\n        } else if (de.webkitCancelFullScreen) {\n            de.webkitCancelFullScreen();\n        }\n    }\n    requestFullScreen(element) {\n        // 判断各种浏览器，找到正确的方法\n        const requestMethod = element.requestFullScreen || //W3C\n            element.webkitRequestFullScreen ||    //Chrome等\n            element.mozRequestFullScreen || //FireFox\n            element.msRequestFullScreen; //IE11\n        if (requestMethod) {\n            requestMethod.call(element);\n        }\n        else if (typeof window.ActiveXObject !== \"undefined\") {//for Internet Explorer\n            const wscript = new window.ActiveXObject(\"WScript.Shell\");\n            if (wscript !== null) {\n                wscript.SendKeys(\"{F11}\");\n            }\n        }     \n    }\n    handleFullScreen() {\n        // this.props.fullScreen ? this.exitFullscreen() : this.requestFullScreen(document.documentElement)\n        this.props.toggleScreen()\n    }\n    render() {\n        return (\n            <div className='container' style={{ paddingTop: this.props.fullScreen ? '10px' : '60px' }}>\n                <div className=\"imgDetail\" style={{ display: 'none' }}>\n                    <div className=\"imgMask\"></div>\n                    <img src='' alt=\"\" width='100%' height='auto' />\n                </div>\n                <div className=\"galleryContainer\">  {/* 图库画布 */}\n                    <Icon type='export' className='exitGallery' onClick={() => {\n                        document.getElementsByClassName('galleryContainer')[0].className = 'galleryContainer'\n                    }} />\n                    <canvas id=\"canvas\">你的浏览器不支持HTML5画布技术，请使用谷歌浏览器。</canvas>\n                </div>\n                <div className=\"fullScreen\" onClick={() => this.handleFullScreen()}>\n                    <Icon type={this.props.fullScreen ? \"fullscreen-exit\" : \"fullscreen\"} />\n                </div>\n                <LoginReg />      {/* 登陆注册 */}\n                <Aside />         {/* 侧边栏 */}\n                <Header />        {/* 头部 */}\n                <RouteConfig />   {/* 路由配置 */}\n                <Footer />        {/* 底部 */}\n            </div>\n        )\n    }\n}\nexport\n    const Container = connect(state => {\n        return {\n            user: state.user,\n            datas: state.datas,\n            visible: state.dialog.visible,\n            fullScreen: state.screen,\n            img: state.img\n        }\n    }, dispatch => {\n        return {\n            setData(params) {\n                dispatch({ type: 'SET_DATA', ...params })\n            },\n            userInfo(user) {\n                dispatch({ type: 'SET_USER_VO', payload: { ...user } })\n            },\n            toggleScreen() {\n                dispatch({ type: 'TOGGLE_SCREEN' })\n            }\n        }\n    })(UI)","import React from 'react'\nimport { TextareaItem, InputItem, Toast } from 'antd-mobile'\nimport { createForm } from 'rc-form'\nimport { connect } from 'react-redux'\nimport { Button } from 'antd-mobile'\nimport './dialog.css'\nimport { API } from '../../request/request';\n\nclass UI extends React.PureComponent {\n    state = { \n        data: {},\n        img: '',\n        newDynamic: {\n            title: '',\n            content: '',\n            img: ''\n        },\n        dataUrl: ''\n     }\n    componentDidMount() {\n        const { dialog: { dynamic, dialogType } } = this.props\n        const data = {\n            title: (dynamic && dynamic.title) || '',\n            content: (dynamic && dynamic.content) || '',\n            img: (dynamic && dynamic.img) || '',\n            _id: dynamic && dynamic._id\n        }\n        dialogType === 'newDynamic' && delete data._id\n        this.setState({\n            data: {\n                ...data\n            }\n        })\n    }\n    setData(key, value) {\n        const { data, newDynamic } = this.state\n        const { dialog: { dialogType } } = this.props\n        dialogType === 'newDynamic' && (this.setState({\n            newDynamic: {\n                ...newDynamic,\n                [key]: value\n            }\n        })) \n        dialogType === 'editDynamic' && this.setState({\n            data: { \n                ...data,\n                [key]: value\n            }\n        })\n        window.debug() && console.log('value\\n', value)\n        dialogType === 'leaveMessage' && this.setState({\n            data: { [key]: value }\n        })\n    }\n    submit(dynamic) {\n        const { props } = this\n        const { data, newDynamic } = this.state\n        newDynamic.hide = props.hide\n        data.hide = props.hide\n        window.debug() && console.log('data\\n', data)\n        props.dialog.cb && props.dialog.cb(props.dialog.dialogType === 'newDynamic' ? (props.dialog.dialogType === 'leaveMessage' ? data : newDynamic) : data)\n        sessionStorage && sessionStorage.removeItem(/ynamic/.test(props.dialog.dialogType) && 'dynamics')\n    }\n    resetView() {\n        document.getElementsByClassName('container')[0].scrollIntoView(false)\n    }\n    handleUpload(info) {\n        const file = info.nativeEvent.target.files[0]\n        handleFile.call(this, file)\n    }\n    render() {\n        const { props } = this\n        return (\n            <div className=\"editBg\">\n                <div className=\"editDialog dialogAnimation\">\n                    {(props.dialog.dialogType === 'newDynamic' || props.dialog.dialogType === 'editDynamic') &&\n                        <InputItem onBlur={() => this.resetView()} placeholder='在这里输入标题' onKeyUp={(e) => this.setData('title', e.nativeEvent.target.value)} defaultValue={props.dialog.dynamic.title}\n                        ><span className='inputTitle'>标题：</span></InputItem>\n                    }\n                    <TextareaItem\n                        placeholder={props.dialog.placeholder || ''}\n                        onBlur={() => this.resetView()}\n                        onKeyUp={(e) => this.setData('content', e.nativeEvent.target.value)}\n                        {...props.form.getFieldProps('count', {\n                            initialValue: (props.dialog.dynamic && props.dialog.dynamic.content) || '',\n                        })}\n                        rows={5}\n                        count={props.dialog.count || 100}\n                    />\n                    <div className=\"dialogFooter\">\n                        <Button onClick={() => {\n                            props.hide({ visible: false })\n                            props.dialog.cancelCallback && props.dialog.cancelCallback()\n                            this.setState({\n                                newDynamic: { }\n                            })\n                        }} type='default'>取消</Button>\n                        <Button type='default' onClick={() => this.submit(props.dynamic)} >确定</Button>\n                    </div>\n                    {\n                        (props.dialog.dialogType === 'newDynamic' || props.dialog.dialogType === 'editDynamic') &&\n                        <div className=\"uploadContainer\">\n                            点击配图\n                            <img src={ '/' + (props.dialog.dialogType === 'editDynamic' ? this.state.data.img : this.state.newDynamic.img) } alt=\"\" />\n                            <input type=\"file\"  onChange={(info) => this.handleUpload(info)}/>\n                        </div>\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction handleFile(file) {\n    const { name } = file\n    if (!/png+|jpeg+|gif+|GIF+|PNG+|JPEG/.test(file.type)) {\n        Toast.fail('不支持的图片类型', 1)\n        return\n    }\n    Toast.loading('上传中')\n    const fileReader = new FileReader()\n    fileReader.readAsDataURL(file)\n    fileReader.onload = e => {\n        API('/setDynamicImg', 'POST', { dataUrl: e.target.result, name }).then(res => {\n            if (res.success) {\n                const { newDynamic, data } = this.state\n                this.setState({\n                    newDynamic: {\n                        ...newDynamic,\n                        img: res.img\n                    },\n                    data: {\n                        ...data,\n                        img: res.img\n                    }\n                }, Toast.success('已上传配图', 1))\n            } else Toast.fail(res)\n        })\n    }\n}\n\nexport const Dialog = connect(state => {\n    return {\n        dialog: state.dialog\n    }\n}, dispatch => {\n    return {\n        hide(payload) {\n            dispatch({ type: 'QUERY_DYNAMIC', payload })\n        },\n        _setData(params) {\n            dispatch({ type: 'SET_DATA', ...params })\n        }\n    }\n})(createForm()(UI))","import React from 'react'\nimport './loading.css'\n\nexport const Loading = () => {\n    return(\n        <div className=\"loadingContainer\">\n            <div className=\"loadingWrap\">\n                <div className=\"loadingDot startLoading\">\n                </div>\n                <div className=\"loadingText\">LOADING</div>\n            </div>\n            <div className=\"footerInfo\">\n                React Blog  © 2018 Adaxh\n            </div>\n        </div>\n    )\n}","import React, { Component } from 'react';\nimport { Container } from './componets/container/container'\nimport { connect } from 'react-redux'\nimport { Dialog } from './componets/dialog/dialog'\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom'\nimport './App.css'\nimport { API } from './request/request';\nimport { Loading } from './componets/loading/loading';\n\nfunction preLoadFile(imgs) {\n  // console.log(imgs)\n  const src = [\n    \"/resouce/images/glitch.jpg\",\n    '/upload/user_avatar/default_avatar.jpg',\n    \"/resouce/gallery/1.jpg\",\n    \"/resouce/gallery/2.jpg\",\n    \"/resouce/gallery/3.jpg\",\n    \"/resouce/gallery/4.jpg\",\n    \"/resouce/gallery/5.jpg\",\n    \"/resouce/gallery/6.jpg\",\n    \"/resouce/gallery/7.jpg\",\n    \"/resouce/gallery/8.jpg\",\n    \"/resouce/gallery/9.jpg\",\n    \"/resouce/gallery/10.jpg\",\n    \"/resouce/gallery/11.jpg\",\n    \"/resouce/gallery/12.jpg\"\n  ]\n  const imgResult = []\n  return new Promise((resolve) => {\n    for (let item of [...new Set([...src, ...imgs])]) {\n      const img = new Image()\n      img.src = item.replace && item.replace(/jpeg/g,'jpg').replace(/GIF/g, 'gif')\n      img.onload = function (e) {\n        imgResult.push(img)\n        imgResult.length === src.length && resolve(true)\n      }\n      img.onerror = function () {\n        imgResult.push(img)\n        imgResult.length === src.length && resolve(true)\n      }\n    }\n  })\n}\n\nclass UI extends Component {\n  state = {\n    loading: true\n  }\n  componentDidMount() {\n    API('/getDynamic').then(result => {\n      if (result.success) {\n        const imgs = result.data.map(item => item.img || '/resouce/gallery/7.jpg')\n          preLoadFile(imgs).then(res => {\n            setTimeout(() => {\n              this.setState({ loading: !res })\n            }, 1000);  \n          })\n\n      }\n    })\n    const d = new Date()\n    d.setDate(d.getDate() + 2)\n    !(/user/.test(document.cookie)) && API('/get-customer').then(result => {\n      if (result.success) {\n        API('/add-customer', 'POST', { number: result.data.number + 1 })\n      }\n    })\n    const con = document.getElementsByClassName('App')[0]\n    con.style.height = window.innerHeight + 'px'\n    window.addEventListener('resize', () => {\n      con.style.height = window.innerHeight + 'px'\n    })\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        {this.props.visible && <Dialog />}\n        { this.state.loading && <Loading /> }\n        <Router>\n          <Route path=\"/\" component={Container} />\n        </Router>\n      </div>\n    );\n  }\n}\nexport const App = connect(state => {\n  return {\n    visible: state.dialog.visible\n  }\n}, () => {\n  return {\n\n  }\n})(UI)\n","\nimport Cookies from 'js-cookie'\n\nexport function asideReduce(state = 'hide', action) { //全局控制aside\n\n    if (action.type === 'ASIDE') {\n        return action.payload\n    }\n    return state\n}\n\nexport function loginUIREduce(state = { type: 'login', status: 'hide' }, action) { //全局控制登陆UI的位置\n    if (action.type === 'CHANGE') {\n        return {\n            ...action.payload\n        }\n    }\n    return state\n}\n\nexport function imgReduce(state = { visible: false, src: '/resouce/images/fly.jpg' } , action){\n    if (action.type === 'VIEW'){\n        console.log(action.payload)\n        return {\n            ...action.paylaod\n        }\n    }\n    return state\n}\n\nexport const fullScreenReduce = (state = false, action) => {\n    if (action.type === 'TOGGLE_SCREEN') {\n        return !state\n    }\n    return state\n}\n\nexport function toTopReducer(state = { visible: false, cb: () => { } }, action) {\n    if (action.type === 'HIDE') {\n        // window.debug() && console.log(action)\n        state.visible = false\n        return state\n    }\n    if (action.type === 'SHOW') {\n        action.payload && action.payload.cb && action.payload.cb()\n        return {\n            visible: true\n        }\n    }\n    return state\n}\n\n// const p = Promise.all([\n//     API('/getDynamic'),\n//     API('/getArticles'),\n//     API('/getAllMessages')\n// ]).then(result => {\n//     if (result[0] instanceof Object && result[0].success) {\n//         sessionStorage && sessionStorage.setItem('dynamics', JSON.stringify(result[0].data))\n//     }\n//     if (result[1] instanceof Object && result[0].success) {\n//         sessionStorage && sessionStorage.setItem('articles', JSON.stringify(result[1].data))\n//     }\n//     if (result[2] instanceof Object && result[0].success) {\n//         sessionStorage && sessionStorage.setItem('messages', JSON.stringify(result[2].data))\n//     }\n// })\n\n// export function allData(state = p, action) {\n//     if (sessionStorage && sessionStorage.getItem('dynamics') && sessionStorage.getItem('articles') && sessionStorage.getItem('messages')) {\n//         const datas = {}\n//         datas.dynamics = JSON.parse(sessionStorage.getItem('dynamics'))\n//         datas.articles = JSON.parse(sessionStorage.getItem('articles'))\n//         datas.messages = JSON.parse(sessionStorage.getItem('messages'))\n//         if (action.type === 'SET_DATA') {\n//             datas[action.payload.type] = action.payload.data\n//         }\n//         return datas\n//     }\n//     if (action.type === 'RESET') {\n//         return p\n//     }\n//     return p\n// }\nconst datas = {  //所有需要渲染的数据\n    dynamics: [],\n    articles: [],\n    messages: [],\n    avatars: []\n}\n\nexport function allData(state = {}, action) {  //更新数据\n    if (action.type === 'SET_DATA') {\n        window.debug() && console.log(action.payload.data)\n        datas[action.payload.type] = action.payload.data\n        return datas\n    }\n    if (action.type === 'UPDATE_DATA') {\n        window.debug() && console.log(action.payload.data)\n        for (let item of datas[action.payload.type]) {\n            if (item._id === action.payload.data._id) {\n                item.title = action.payload.data.title\n                item.content = action.payload.data.content\n                break\n            }\n        }\n        return datas\n    }\n    return datas\n}\n\nexport function dialogReducer(state = {}, action) {  //封装通用组件调用时指定dialog的使用场景\n    if (action.type === 'QUERY_DYNAMIC') { //编辑dynamic的场景\n        // console.log(action.payload)\n        if (action.payload.dynamic && action.payload.dynamic._id) {\n            return {\n                dynamic: action.payload.dynamic,\n                visible: true,\n                cb: action.payload.cb,\n                dialogType: 'editDynamic'\n            }\n        }\n        if (!action.payload.visible)\n            return { visible: false }\n    }\n    if (action.type === 'NEW_DYNAMIC') { //新增dynamic的场景\n        return {\n            dynamic: {},\n            cb: action.payload.cb,\n            placeholder: action.payload.placeholder,\n            dialogType: 'newDynamic',\n            visible: true\n        }\n    }\n    if (action.type === 'LEAVE_MESSAGE') { //留言、评论、回复场景\n        return {\n            dialogType: 'leaveMessage',\n            visible: true,\n            count: action.payload.count || 100,\n            placeholder: action.payload.placeholder,\n            cb: action.payload.cb,\n            cancelCallback: action.payload.cancelCallback || undefined\n        }\n    }\n    return { visible: false }\n}\n\nexport function logoReducer(state = { src: 'home', item: '首页' }, action) {  //全局控制logo图标\n    if (action.type === 'LOGO')\n        return action.payload\n    return state\n}\n\nexport function isLoginReduce(state = { status: false, text: '登陆' }, action) {  //全局可取到的登录用户信息\n    if (action.type === 'SET_USER_VO') {\n        return {\n            ...action.payload,\n            status: true\n        }\n    }\n    if (action.type === 'CLEAR_USER') {\n        Cookies.remove('user')\n        Cookies.remove('token')\n        // if (!!sessionStorage.getItem('user')) {\n        // const d = new Date(-1)\n        // document.cookie = 'user=' + sessionStorage.getItem('user') + ';path=/;expires=' + d\n        sessionStorage.removeItem('user')\n        return {\n            status: false,\n            text: '登陆'\n        }\n        // }\n    }\n    return state\n}","import { createStore, combineReducers } from 'redux'\nimport {\n    isLoginReduce,\n    logoReducer,\n    loginUIREduce,\n    asideReduce,\n    allData,\n    dialogReducer,\n    toTopReducer,\n    fullScreenReduce,\n    imgReduce\n} from './reducersModule'\n\nconst reducers = combineReducers({\n    user: isLoginReduce,\n    logo: logoReducer,\n    loginUI: loginUIREduce,\n    aside: asideReduce,\n    datas: allData,\n    dialog: dialogReducer,\n    toTop: toTopReducer,\n    screen: fullScreenReduce,\n    img: imgReduce\n})\nexport const Store = createStore(reducers, {})","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport { Provider } from 'react-redux'\nimport { Store } from './store/store'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Provider store={Store} ><App /></Provider>, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}